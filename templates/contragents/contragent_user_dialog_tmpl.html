<md-dialog aria-label="ContactPersons">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>{{'USER' | translate}}</h2>
			<span flex></span>
			<md-button class="md-icon-button" ng-click="close()" ng-show="!Saving">
				<md-icon aria-label="Close dialog">close</md-icon>
			</md-button>
		</div>
	</md-toolbar>
	<md-dialog-content>
		<div class="md-dialog-content" style="width: 500px;">
			 
			 <div ng-include="'/templates/saving_loader.html'"></div>

			<form name="userForm"  ng-show="!Saving">

				<div layout="column" layout-align="space-between none" layout-wrap>
				
						<md-input-container class="md-block" flex>
							<label>{{'USER_NAME'| translate}}</label>
							<input name="username" ng-model="user.userName" md-maxlength="100" required>
							<div ng-messages="userForm.username.$error" role="alert" multiple>
								<div ng-message="required">{{'REQUIRED' | translate}} </div>
								<div ng-message="md-maxlength">{{'IS_TO_LONG'| translate}}</div>
							</div>
						</md-input-container>
				
						<md-input-container class="md-block" flex>
							<label>{{'CP_EMAIL'| translate}}</label>
							<input type="email" name="email" placeholder="jan.kowalski@gmail.com" ng-model="user.email" ng-pattern='/^.+@.+\..+$/' required>
							<div ng-messages="userForm.email.$error" role="alert">
								<div ng-message-exp="['pattern']">{{'EMAIL_ERROR_MSG' | translate}}</div>
								<div ng-message="required">{{'REQUIRED' | translate}} </div>								
							</div>
						</md-input-container>
			
						<md-input-container class="md-block" flex>
							<label>{{'PASSWORD'| translate}}</label>
							<input name="password" ng-model="user.password" placeholder="Password" md-maxlength="100" required ng-pattern="/(?=(.*[0-9]){1,})(?=.*[\*^!@#$&*])(?=.*[a-z])(?=(.*[A-Z]){1,}).{6,}/">
							<div ng-messages="userForm.password.$error" role="alert" multiple>
								<div ng-message="required">{{'REQUIRED' | translate}} </div>
								<div ng-message="md-maxlength">{{'IS_TO_LONG'| translate}}</div>
								<div ng-message-exp="['pattern']">{{'PASSWORD_ERROR'| translate}}</div>
							</div>
						</md-input-container>
					
				</div>

               

			</form>
		</div>
	</md-dialog-content>
	<md-dialog-actions layout="row"  ng-show="!Saving">
		<md-button ng-click="saveContragentUser()">
			{{'SAVE'|translate}}
		</md-button>
	</md-dialog-actions>
</md-dialog>